<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Creating Table 1 – ProPASS DataSHIELD Training</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./7-glm-models.html" rel="next">
<link href="./5-derived-variables.html" rel="prev">
<link href="./favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./3-filtering-subsetting.html">Data Cleaning &amp; Management</a></li><li class="breadcrumb-item"><a href="./6-table-one.html"><span class="chapter-title">Creating Table 1</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">ProPASS DataSHIELD Training</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/propass/propass-training" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=|url|">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=|url|">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
    </div>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Getting Started</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1-prerequisites.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Prerequisites</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2-getting-connected.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Getting Connected</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Data Cleaning &amp; Management</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3-filtering-subsetting.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Filtering &amp; Subsetting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./4-conditional-operations.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Conditional Operations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./5-derived-variables.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Derived Variables &amp; Grouped Summaries</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./6-table-one.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">Creating Table 1</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Statistical Modelling</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./7-glm-models.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Generalized Linear Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./8-survival-analysis.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Survival Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./9-coda-analysis.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Compositional Data Analysis</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#components-of-table-1" id="toc-components-of-table-1" class="nav-link" data-scroll-target="#components-of-table-1">Components of Table 1</a></li>
  <li><a href="#basic-descriptive-statistics" id="toc-basic-descriptive-statistics" class="nav-link" data-scroll-target="#basic-descriptive-statistics">Basic Descriptive Statistics</a>
  <ul class="collapse">
  <li><a href="#continuous-variables" id="toc-continuous-variables" class="nav-link" data-scroll-target="#continuous-variables">Continuous Variables</a></li>
  <li><a href="#categorical-variables" id="toc-categorical-variables" class="nav-link" data-scroll-target="#categorical-variables">Categorical Variables</a></li>
  </ul></li>
  <li><a href="#stratified-statistics" id="toc-stratified-statistics" class="nav-link" data-scroll-target="#stratified-statistics">Stratified Statistics</a>
  <ul class="collapse">
  <li><a href="#by-single-grouping-variable" id="toc-by-single-grouping-variable" class="nav-link" data-scroll-target="#by-single-grouping-variable">By Single Grouping Variable</a></li>
  <li><a href="#cross-tabulation" id="toc-cross-tabulation" class="nav-link" data-scroll-target="#cross-tabulation">Cross-Tabulation</a></li>
  </ul></li>
  <li><a href="#building-table-1-programmatically" id="toc-building-table-1-programmatically" class="nav-link" data-scroll-target="#building-table-1-programmatically">Building Table 1 Programmatically</a>
  <ul class="collapse">
  <li><a href="#helper-function-for-continuous-variables" id="toc-helper-function-for-continuous-variables" class="nav-link" data-scroll-target="#helper-function-for-continuous-variables">Helper Function for Continuous Variables</a></li>
  <li><a href="#complete-table-1-workflow" id="toc-complete-table-1-workflow" class="nav-link" data-scroll-target="#complete-table-1-workflow">Complete Table 1 Workflow</a></li>
  </ul></li>
  <li><a href="#stratified-table-1-by-gender" id="toc-stratified-table-1-by-gender" class="nav-link" data-scroll-target="#stratified-table-1-by-gender">Stratified Table 1 (By Gender)</a></li>
  <li><a href="#handling-multiple-studies" id="toc-handling-multiple-studies" class="nav-link" data-scroll-target="#handling-multiple-studies">Handling Multiple Studies</a></li>
  <li><a href="#missing-data-summary" id="toc-missing-data-summary" class="nav-link" data-scroll-target="#missing-data-summary">Missing Data Summary</a></li>
  <li><a href="#best-practices" id="toc-best-practices" class="nav-link" data-scroll-target="#best-practices">Best Practices</a></li>
  <li><a href="#complete-table-1-output" id="toc-complete-table-1-output" class="nav-link" data-scroll-target="#complete-table-1-output">Complete Table 1 Output</a></li>
  <li><a href="#next-steps" id="toc-next-steps" class="nav-link" data-scroll-target="#next-steps">Next Steps</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/propass/propass-training/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./3-filtering-subsetting.html">Data Cleaning &amp; Management</a></li><li class="breadcrumb-item"><a href="./6-table-one.html"><span class="chapter-title">Creating Table 1</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-title">Creating Table 1</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="cell">
<style type="text/css">
p {
  text-align: justify
}
</style>
</div>
<p>This chapter covers producing descriptive summaries for “Table 1” of participant characteristics using group-level statistics in DataSHIELD.</p>
<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>Table 1 is a standard component of epidemiological and clinical research papers, presenting baseline characteristics of study participants. In DataSHIELD, we construct Table 1 from aggregate statistics without accessing individual-level data.</p>
</section>
<section id="components-of-table-1" class="level2">
<h2 class="anchored" data-anchor-id="components-of-table-1">Components of Table 1</h2>
<p>A typical Table 1 includes:</p>
<ul>
<li><strong>Continuous variables</strong>: Mean (SD) or Median (IQR)</li>
<li><strong>Categorical variables</strong>: N (%)</li>
<li><strong>Stratification</strong>: Often by exposure group or study site</li>
<li><strong>Missing data</strong>: Documentation of missingness</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required packages</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DSI)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DSOpal)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dsBaseClient)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dsTidyverseClient)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Connect to the server</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>builder <span class="ot">&lt;-</span> DSI<span class="sc">::</span><span class="fu">newDSLoginBuilder</span>()</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>builder<span class="sc">$</span><span class="fu">append</span>(</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">server =</span> <span class="st">"demo"</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">url =</span> <span class="st">"https://opal-demo.obiba.org"</span>,</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">user =</span> <span class="st">"dsuser"</span>,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">password =</span> <span class="st">"P@ssw0rd"</span>,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">table =</span> <span class="st">"CNSIM.CNSIM1"</span>,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">profile =</span> <span class="st">"lemon-donkey"</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>logindata <span class="ot">&lt;-</span> builder<span class="sc">$</span><span class="fu">build</span>()</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>conns <span class="ot">&lt;-</span> <span class="fu">datashield.login</span>(<span class="at">logins =</span> logindata, <span class="at">assign =</span> <span class="cn">TRUE</span>, <span class="at">symbol =</span> <span class="st">"D"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="basic-descriptive-statistics" class="level2">
<h2 class="anchored" data-anchor-id="basic-descriptive-statistics">Basic Descriptive Statistics</h2>
<section id="continuous-variables" class="level3">
<h3 class="anchored" data-anchor-id="continuous-variables">Continuous Variables</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean and standard deviation for BMI</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>bmi_mean <span class="ot">&lt;-</span> <span class="fu">ds.mean</span>(<span class="st">"D$PM_BMI_CONTINUOUS"</span>, <span class="at">type =</span> <span class="st">"combine"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>bmi_var <span class="ot">&lt;-</span> <span class="fu">ds.var</span>(<span class="st">"D$PM_BMI_CONTINUOUS"</span>, <span class="at">type =</span> <span class="st">"combine"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>bmi_sd <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(bmi_var<span class="sc">$</span>Global.Variance[<span class="dv">1</span>])</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"BMI: "</span>, <span class="fu">round</span>(bmi_mean<span class="sc">$</span>Global.Mean[<span class="dv">1</span>], <span class="dv">1</span>), <span class="st">" ("</span>, <span class="fu">round</span>(bmi_sd, <span class="dv">1</span>), <span class="st">")</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>BMI:  27.4  ( 5 )</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use ds.summary for quick overview</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ds.summary</span>(<span class="st">"D$PM_BMI_CONTINUOUS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$demo
$demo$class
[1] "numeric"

$demo$length
[1] 2163

$demo$`quantiles &amp; mean`
      5%      10%      25%      50%      75%      90%      95%     Mean 
19.49500 21.06500 24.10500 27.33000 30.66750 33.76000 35.66750 27.39804 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Quantiles for median and IQR</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ds.quantileMean</span>(<span class="st">"D$PM_BMI_CONTINUOUS"</span>, <span class="at">type =</span> <span class="st">"combine"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code> Quantiles of the pooled data</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>      5%      10%      25%      50%      75%      90%      95%     Mean 
19.49500 21.06500 24.10500 27.33000 30.66750 33.76000 35.66750 27.39804 </code></pre>
</div>
</div>
</section>
<section id="categorical-variables" class="level3">
<h3 class="anchored" data-anchor-id="categorical-variables">Categorical Variables</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Frequency tables</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ds.table</span>(<span class="st">"D$GENDER"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Data in all studies were valid 

Study 1 :  No errors reported from this study</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>$output.list
$output.list$TABLE_rvar.by.study_row.props
        study
D$GENDER demo
      0     1
      1     1
      NA  NaN

$output.list$TABLE_rvar.by.study_col.props
        study
D$GENDER      demo
      0  0.5048544
      1  0.4951456
      NA 0.0000000

$output.list$TABLE_rvar.by.study_counts
        study
D$GENDER demo
      0  1092
      1  1071
      NA    0

$output.list$TABLES.COMBINED_all.sources_proportions
D$GENDER
    0     1    NA 
0.505 0.495 0.000 

$output.list$TABLES.COMBINED_all.sources_counts
D$GENDER
   0    1   NA 
1092 1071    0 


$validity.message
[1] "Data in all studies were valid"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ds.table</span>(<span class="st">"D$DIS_DIAB"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Data in all studies were valid 

Study 1 :  No errors reported from this study</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>$output.list
$output.list$TABLE_rvar.by.study_row.props
          study
D$DIS_DIAB demo
        0     1
        1     1
        NA  NaN

$output.list$TABLE_rvar.by.study_col.props
          study
D$DIS_DIAB       demo
        0  0.98613037
        1  0.01386963
        NA 0.00000000

$output.list$TABLE_rvar.by.study_counts
          study
D$DIS_DIAB demo
        0  2133
        1    30
        NA    0

$output.list$TABLES.COMBINED_all.sources_proportions
D$DIS_DIAB
     0      1     NA 
0.9860 0.0139 0.0000 

$output.list$TABLES.COMBINED_all.sources_counts
D$DIS_DIAB
   0    1   NA 
2133   30    0 


$validity.message
[1] "Data in all studies were valid"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Two-way tables (for stratified analysis)</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ds.table</span>(<span class="st">"D$GENDER"</span>, <span class="st">"D$DIS_DIAB"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Data in all studies were valid 

Study 1 :  No errors reported from this study</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>$output.list
$output.list$TABLE.STUDY.demo_row.props
        D$DIS_DIAB
D$GENDER     0      1  NA
      0  0.981 0.0192   0
      1  0.992 0.0084   0
      NA   NaN    NaN NaN

$output.list$TABLE.STUDY.demo_col.props
        D$DIS_DIAB
D$GENDER     0   1  NA
      0  0.502 0.7 NaN
      1  0.498 0.3 NaN
      NA 0.000 0.0 NaN

$output.list$TABLES.COMBINED_all.sources_row.props
        D$DIS_DIAB
D$GENDER     0      1  NA
      0  0.981 0.0192   0
      1  0.992 0.0084   0
      NA   NaN    NaN NaN

$output.list$TABLES.COMBINED_all.sources_col.props
        D$DIS_DIAB
D$GENDER     0   1  NA
      0  0.502 0.7 NaN
      1  0.498 0.3 NaN
      NA 0.000 0.0 NaN

$output.list$TABLE_STUDY.demo_counts
        D$DIS_DIAB
D$GENDER    0  1 NA
      0  1071 21  0
      1  1062  9  0
      NA    0  0  0

$output.list$TABLES.COMBINED_all.sources_counts
        D$DIS_DIAB
D$GENDER    0  1 NA
      0  1071 21  0
      1  1062  9  0
      NA    0  0  0


$validity.message
[1] "Data in all studies were valid"</code></pre>
</div>
</div>
</section>
</section>
<section id="stratified-statistics" class="level2">
<h2 class="anchored" data-anchor-id="stratified-statistics">Stratified Statistics</h2>
<section id="by-single-grouping-variable" class="level3">
<h3 class="anchored" data-anchor-id="by-single-grouping-variable">By Single Grouping Variable</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean BMI by gender</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ds.tapply</span>(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">X.name =</span> <span class="st">"D$PM_BMI_CONTINUOUS"</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">INDEX.names =</span> <span class="st">"D$GENDER"</span>,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">FUN.name =</span> <span class="st">"mean"</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$demo
$demo$Mean
D$GENDER.1 D$GENDER.2 
  28.10222   26.69113 

$demo$N
D$GENDER.1 D$GENDER.2 
      1035       1031 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># SD of BMI by gender</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ds.tapply</span>(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">X.name =</span> <span class="st">"D$PM_BMI_CONTINUOUS"</span>,</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">INDEX.names =</span> <span class="st">"D$GENDER"</span>,</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">FUN.name =</span> <span class="st">"sd"</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$demo
$demo$SD
D$GENDER.1 D$GENDER.2 
  5.102012   4.839615 

$demo$N
D$GENDER.1 D$GENDER.2 
      1035       1031 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean cholesterol by gender</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ds.tapply</span>(</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">X.name =</span> <span class="st">"D$LAB_TSC"</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">INDEX.names =</span> <span class="st">"D$GENDER"</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">FUN.name =</span> <span class="st">"mean"</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$demo
$demo$Mean
D$GENDER.1 D$GENDER.2 
  5.915789   5.827805 

$demo$N
D$GENDER.1 D$GENDER.2 
       910        897 </code></pre>
</div>
</div>
</section>
<section id="cross-tabulation" class="level3">
<h3 class="anchored" data-anchor-id="cross-tabulation">Cross-Tabulation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get counts for diabetes by gender</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>diab_by_gender <span class="ot">&lt;-</span> <span class="fu">ds.table</span>(<span class="st">"D$DIS_DIAB"</span>, <span class="st">"D$GENDER"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Data in all studies were valid 

Study 1 :  No errors reported from this study</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(diab_by_gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$output.list
$output.list$TABLE.STUDY.demo_row.props
          D$GENDER
D$DIS_DIAB     0     1  NA
        0  0.502 0.498   0
        1  0.700 0.300   0
        NA   NaN   NaN NaN

$output.list$TABLE.STUDY.demo_col.props
          D$GENDER
D$DIS_DIAB      0      1  NA
        0  0.9810 0.9920 NaN
        1  0.0192 0.0084 NaN
        NA 0.0000 0.0000 NaN

$output.list$TABLES.COMBINED_all.sources_row.props
          D$GENDER
D$DIS_DIAB     0     1  NA
        0  0.502 0.498   0
        1  0.700 0.300   0
        NA   NaN   NaN NaN

$output.list$TABLES.COMBINED_all.sources_col.props
          D$GENDER
D$DIS_DIAB      0      1  NA
        0  0.9810 0.9920 NaN
        1  0.0192 0.0084 NaN
        NA 0.0000 0.0000 NaN

$output.list$TABLE_STUDY.demo_counts
          D$GENDER
D$DIS_DIAB    0    1 NA
        0  1071 1062  0
        1    21    9  0
        NA    0    0  0

$output.list$TABLES.COMBINED_all.sources_counts
          D$GENDER
D$DIS_DIAB    0    1 NA
        0  1071 1062  0
        1    21    9  0
        NA    0    0  0


$validity.message
[1] "Data in all studies were valid"</code></pre>
</div>
</div>
</section>
</section>
<section id="building-table-1-programmatically" class="level2">
<h2 class="anchored" data-anchor-id="building-table-1-programmatically">Building Table 1 Programmatically</h2>
<section id="helper-function-for-continuous-variables" class="level3">
<h3 class="anchored" data-anchor-id="helper-function-for-continuous-variables">Helper Function for Continuous Variables</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Helper function to extract statistics for continuous variables</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>get_continuous_stats <span class="ot">&lt;-</span> <span class="cf">function</span>(var_name) {</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  mean_val <span class="ot">&lt;-</span> <span class="fu">ds.mean</span>(var_name, <span class="at">type =</span> <span class="st">"combine"</span>)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  var_val <span class="ot">&lt;-</span> <span class="fu">ds.var</span>(var_name, <span class="at">type =</span> <span class="st">"combine"</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  sd_val <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(var_val<span class="sc">$</span>Global.Variance[<span class="dv">1</span>])</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  n_val <span class="ot">&lt;-</span> <span class="fu">ds.length</span>(var_name, <span class="at">type =</span> <span class="st">"combine"</span>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  na_val <span class="ot">&lt;-</span> <span class="fu">ds.numNA</span>(var_name)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">n =</span> n_val,</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean =</span> <span class="fu">round</span>(mean_val<span class="sc">$</span>Global.Mean[<span class="dv">1</span>], <span class="dv">2</span>),</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd =</span> <span class="fu">round</span>(sd_val, <span class="dv">2</span>),</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">missing =</span> na_val</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Usage with CNSIM data</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>bmi_stats <span class="ot">&lt;-</span> <span class="fu">get_continuous_stats</span>(<span class="st">"D$PM_BMI_CONTINUOUS"</span>)</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>tsc_stats <span class="ot">&lt;-</span> <span class="fu">get_continuous_stats</span>(<span class="st">"D$LAB_TSC"</span>)</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>hdl_stats <span class="ot">&lt;-</span> <span class="fu">get_continuous_stats</span>(<span class="st">"D$LAB_HDL"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="complete-table-1-workflow" class="level3">
<h3 class="anchored" data-anchor-id="complete-table-1-workflow">Complete Table 1 Workflow</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Table 1: Baseline Characteristics (CNSIM)</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample size</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>n_total <span class="ot">&lt;-</span> <span class="fu">ds.length</span>(<span class="st">"D$PM_BMI_CONTINUOUS"</span>, <span class="at">type =</span> <span class="st">"combine"</span>)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Continuous variables</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>bmi_mean <span class="ot">&lt;-</span> <span class="fu">ds.mean</span>(<span class="st">"D$PM_BMI_CONTINUOUS"</span>, <span class="at">type =</span> <span class="st">"combine"</span>)<span class="sc">$</span>Global.Mean[<span class="dv">1</span>]</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>bmi_sd <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">ds.var</span>(<span class="st">"D$PM_BMI_CONTINUOUS"</span>, <span class="at">type =</span> <span class="st">"combine"</span>)<span class="sc">$</span>Global.Variance[<span class="dv">1</span>])</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>tsc_mean <span class="ot">&lt;-</span> <span class="fu">ds.mean</span>(<span class="st">"D$LAB_TSC"</span>, <span class="at">type =</span> <span class="st">"combine"</span>)<span class="sc">$</span>Global.Mean[<span class="dv">1</span>]</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>tsc_sd <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">ds.var</span>(<span class="st">"D$LAB_TSC"</span>, <span class="at">type =</span> <span class="st">"combine"</span>)<span class="sc">$</span>Global.Variance[<span class="dv">1</span>])</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>hdl_mean <span class="ot">&lt;-</span> <span class="fu">ds.mean</span>(<span class="st">"D$LAB_HDL"</span>, <span class="at">type =</span> <span class="st">"combine"</span>)<span class="sc">$</span>Global.Mean[<span class="dv">1</span>]</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>hdl_sd <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">ds.var</span>(<span class="st">"D$LAB_HDL"</span>, <span class="at">type =</span> <span class="st">"combine"</span>)<span class="sc">$</span>Global.Variance[<span class="dv">1</span>])</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>trig_mean <span class="ot">&lt;-</span> <span class="fu">ds.mean</span>(<span class="st">"D$LAB_TRIG"</span>, <span class="at">type =</span> <span class="st">"combine"</span>)<span class="sc">$</span>Global.Mean[<span class="dv">1</span>]</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>trig_sd <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">ds.var</span>(<span class="st">"D$LAB_TRIG"</span>, <span class="at">type =</span> <span class="st">"combine"</span>)<span class="sc">$</span>Global.Variance[<span class="dv">1</span>])</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Print results</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=== Table 1: Baseline Characteristics ===</span><span class="sc">\n\n</span><span class="st">"</span>)</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"N:"</span>, n_total<span class="sc">$</span><span class="st">`</span><span class="at">total length of D$PM_BMI_CONTINUOUS in all studies combined</span><span class="st">`</span>, <span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"BMI, mean (SD):"</span>, <span class="fu">round</span>(bmi_mean, <span class="dv">1</span>), <span class="st">"("</span>, <span class="fu">round</span>(bmi_sd, <span class="dv">1</span>), <span class="st">")</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Total Cholesterol, mean (SD):"</span>, <span class="fu">round</span>(tsc_mean, <span class="dv">2</span>), <span class="st">"("</span>, <span class="fu">round</span>(tsc_sd, <span class="dv">2</span>), <span class="st">")</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"HDL Cholesterol, mean (SD):"</span>, <span class="fu">round</span>(hdl_mean, <span class="dv">2</span>), <span class="st">"("</span>, <span class="fu">round</span>(hdl_sd, <span class="dv">2</span>), <span class="st">")</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Triglycerides, mean (SD):"</span>, <span class="fu">round</span>(trig_mean, <span class="dv">2</span>), <span class="st">"("</span>, <span class="fu">round</span>(trig_sd, <span class="dv">2</span>), <span class="st">")</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== Table 1: Baseline Characteristics ===

N: 2163 

BMI, mean (SD): 27.4 ( 5 )
Total Cholesterol, mean (SD): 5.87 ( 1.11 )
HDL Cholesterol, mean (SD): 1.57 ( 0.41 )
Triglycerides, mean (SD): 2.1 ( 1.58 )</code></pre>
</div>
</div>
</section>
</section>
<section id="stratified-table-1-by-gender" class="level2">
<h2 class="anchored" data-anchor-id="stratified-table-1-by-gender">Stratified Table 1 (By Gender)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Table 1 Stratified by Gender</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=== BMI by Gender ===</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>bmi_by_gender <span class="ot">&lt;-</span> <span class="fu">ds.tapply</span>(<span class="at">X.name =</span> <span class="st">"D$PM_BMI_CONTINUOUS"</span>, <span class="at">INDEX.names =</span> <span class="st">"D$GENDER"</span>, <span class="at">FUN.name =</span> <span class="st">"mean"</span>)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>bmi_sd_by_gender <span class="ot">&lt;-</span> <span class="fu">ds.tapply</span>(<span class="at">X.name =</span> <span class="st">"D$PM_BMI_CONTINUOUS"</span>, <span class="at">INDEX.names =</span> <span class="st">"D$GENDER"</span>, <span class="at">FUN.name =</span> <span class="st">"sd"</span>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(bmi_by_gender)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">=== Total Cholesterol by Gender ===</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>tsc_by_gender <span class="ot">&lt;-</span> <span class="fu">ds.tapply</span>(<span class="at">X.name =</span> <span class="st">"D$LAB_TSC"</span>, <span class="at">INDEX.names =</span> <span class="st">"D$GENDER"</span>, <span class="at">FUN.name =</span> <span class="st">"mean"</span>)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(tsc_by_gender)</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">=== HDL by Gender ===</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>hdl_by_gender <span class="ot">&lt;-</span> <span class="fu">ds.tapply</span>(<span class="at">X.name =</span> <span class="st">"D$LAB_HDL"</span>, <span class="at">INDEX.names =</span> <span class="st">"D$GENDER"</span>, <span class="at">FUN.name =</span> <span class="st">"mean"</span>)</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(hdl_by_gender)</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">=== Diabetes by Gender ===</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">ds.table</span>(<span class="st">"D$DIS_DIAB"</span>, <span class="st">"D$GENDER"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== BMI by Gender ===
$demo
$demo$Mean
D$GENDER.1 D$GENDER.2 
  28.10222   26.69113 

$demo$N
D$GENDER.1 D$GENDER.2 
      1035       1031 



=== Total Cholesterol by Gender ===
$demo
$demo$Mean
D$GENDER.1 D$GENDER.2 
  5.915789   5.827805 

$demo$N
D$GENDER.1 D$GENDER.2 
       910        897 



=== HDL by Gender ===
$demo
$demo$Mean
D$GENDER.1 D$GENDER.2 
  1.517015   1.622344 

$demo$N
D$GENDER.1 D$GENDER.2 
       906        897 



=== Diabetes by Gender ===

 Data in all studies were valid 

Study 1 :  No errors reported from this study

$output.list
$output.list$TABLE.STUDY.demo_row.props
          D$GENDER
D$DIS_DIAB     0     1  NA
        0  0.502 0.498   0
        1  0.700 0.300   0
        NA   NaN   NaN NaN

$output.list$TABLE.STUDY.demo_col.props
          D$GENDER
D$DIS_DIAB      0      1  NA
        0  0.9810 0.9920 NaN
        1  0.0192 0.0084 NaN
        NA 0.0000 0.0000 NaN

$output.list$TABLES.COMBINED_all.sources_row.props
          D$GENDER
D$DIS_DIAB     0     1  NA
        0  0.502 0.498   0
        1  0.700 0.300   0
        NA   NaN   NaN NaN

$output.list$TABLES.COMBINED_all.sources_col.props
          D$GENDER
D$DIS_DIAB      0      1  NA
        0  0.9810 0.9920 NaN
        1  0.0192 0.0084 NaN
        NA 0.0000 0.0000 NaN

$output.list$TABLE_STUDY.demo_counts
          D$GENDER
D$DIS_DIAB    0    1 NA
        0  1071 1062  0
        1    21    9  0
        NA    0    0  0

$output.list$TABLES.COMBINED_all.sources_counts
          D$GENDER
D$DIS_DIAB    0    1 NA
        0  1071 1062  0
        1    21    9  0
        NA    0    0  0


$validity.message
[1] "Data in all studies were valid"</code></pre>
</div>
</div>
</section>
<section id="handling-multiple-studies" class="level2">
<h2 class="anchored" data-anchor-id="handling-multiple-studies">Handling Multiple Studies</h2>
<p>When analyzing federated data from multiple studies:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get statistics per study (split)</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ds.mean</span>(<span class="st">"D$PM_BMI_CONTINUOUS"</span>, <span class="at">type =</span> <span class="st">"split"</span>)  <span class="co"># Per-study means</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ds.mean</span>(<span class="st">"D$PM_BMI_CONTINUOUS"</span>, <span class="at">type =</span> <span class="st">"combine"</span>)  <span class="co"># Pooled mean</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample size per study</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ds.length</span>(<span class="st">"D$PM_BMI_CONTINUOUS"</span>, <span class="at">type =</span> <span class="st">"split"</span>)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Variance per study</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ds.var</span>(<span class="st">"D$LAB_TSC"</span>, <span class="at">type =</span> <span class="st">"split"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="missing-data-summary" class="level2">
<h2 class="anchored" data-anchor-id="missing-data-summary">Missing Data Summary</h2>
<p>Always report missing data in Table 1:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check missing values for all key variables</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=== Missing Data Summary ===</span><span class="sc">\n\n</span><span class="st">"</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"PM_BMI_CONTINUOUS:"</span>, <span class="fu">ds.numNA</span>(<span class="st">"D$PM_BMI_CONTINUOUS"</span>)<span class="sc">$</span>demo, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"LAB_TSC:"</span>, <span class="fu">ds.numNA</span>(<span class="st">"D$LAB_TSC"</span>)<span class="sc">$</span>demo, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"LAB_HDL:"</span>, <span class="fu">ds.numNA</span>(<span class="st">"D$LAB_HDL"</span>)<span class="sc">$</span>demo, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"LAB_TRIG:"</span>, <span class="fu">ds.numNA</span>(<span class="st">"D$LAB_TRIG"</span>)<span class="sc">$</span>demo, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"GENDER:"</span>, <span class="fu">ds.numNA</span>(<span class="st">"D$GENDER"</span>)<span class="sc">$</span>demo, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"DIS_DIAB:"</span>, <span class="fu">ds.numNA</span>(<span class="st">"D$DIS_DIAB"</span>)<span class="sc">$</span>demo, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== Missing Data Summary ===

PM_BMI_CONTINUOUS: 97 
LAB_TSC: 356 
LAB_HDL: 360 
LAB_TRIG: 362 
GENDER: 0 
DIS_DIAB: 0 </code></pre>
</div>
</div>
</section>
<section id="best-practices" class="level2">
<h2 class="anchored" data-anchor-id="best-practices">Best Practices</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Table 1 Guidelines
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li><strong>Report both N and %</strong> for categorical variables</li>
<li><strong>Include missing data</strong> counts or percentages</li>
<li><strong>Use appropriate statistics</strong>: Mean (SD) for normal distributions, Median (IQR) for skewed</li>
<li><strong>Stratify meaningfully</strong>: By exposure, outcome, or study site as appropriate</li>
<li><strong>Be consistent</strong>: Use the same decimal places throughout</li>
</ol>
</div>
</div>
</section>
<section id="complete-table-1-output" class="level2">
<h2 class="anchored" data-anchor-id="complete-table-1-output">Complete Table 1 Output</h2>
<p>Here we compile all the statistics into a formatted Table 1:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPLETE TABLE 1: CNSIM Dataset</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Get sample sizes</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>n_total_val <span class="ot">&lt;-</span> <span class="fu">ds.length</span>(<span class="st">"D$PM_BMI_CONTINUOUS"</span>, <span class="at">type =</span> <span class="st">"combine"</span>)<span class="sc">$</span><span class="st">`</span><span class="at">total length of D$PM_BMI_CONTINUOUS in all studies combined</span><span class="st">`</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>gender_counts <span class="ot">&lt;-</span> <span class="fu">ds.table</span>(<span class="st">"D$GENDER"</span>)<span class="sc">$</span>output.list<span class="sc">$</span>TABLES.COMBINED_all.sources_counts</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get stratified SD for cholesterol variables</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>tsc_sd_by_gender <span class="ot">&lt;-</span> <span class="fu">ds.tapply</span>(<span class="at">X.name =</span> <span class="st">"D$LAB_TSC"</span>, <span class="at">INDEX.names =</span> <span class="st">"D$GENDER"</span>, <span class="at">FUN.name =</span> <span class="st">"sd"</span>)</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>hdl_sd_by_gender <span class="ot">&lt;-</span> <span class="fu">ds.tapply</span>(<span class="at">X.name =</span> <span class="st">"D$LAB_HDL"</span>, <span class="at">INDEX.names =</span> <span class="st">"D$GENDER"</span>, <span class="at">FUN.name =</span> <span class="st">"sd"</span>)</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Get stratified means (from previous chunk)</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: GENDER values are 0 and 1, but ds.tapply uses 1-indexed keys "D$GENDER.1" and "D$GENDER.2"</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>bmi_g1 <span class="ot">&lt;-</span> bmi_by_gender<span class="sc">$</span>demo<span class="sc">$</span>Mean[<span class="st">"D$GENDER.1"</span>]</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>bmi_g2 <span class="ot">&lt;-</span> bmi_by_gender<span class="sc">$</span>demo<span class="sc">$</span>Mean[<span class="st">"D$GENDER.2"</span>]</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>bmi_sd_g1 <span class="ot">&lt;-</span> bmi_sd_by_gender<span class="sc">$</span>demo<span class="sc">$</span>SD[<span class="st">"D$GENDER.1"</span>]</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>bmi_sd_g2 <span class="ot">&lt;-</span> bmi_sd_by_gender<span class="sc">$</span>demo<span class="sc">$</span>SD[<span class="st">"D$GENDER.2"</span>]</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>tsc_g1 <span class="ot">&lt;-</span> tsc_by_gender<span class="sc">$</span>demo<span class="sc">$</span>Mean[<span class="st">"D$GENDER.1"</span>]</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>tsc_g2 <span class="ot">&lt;-</span> tsc_by_gender<span class="sc">$</span>demo<span class="sc">$</span>Mean[<span class="st">"D$GENDER.2"</span>]</span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>tsc_sd_g1 <span class="ot">&lt;-</span> tsc_sd_by_gender<span class="sc">$</span>demo<span class="sc">$</span>SD[<span class="st">"D$GENDER.1"</span>]</span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>tsc_sd_g2 <span class="ot">&lt;-</span> tsc_sd_by_gender<span class="sc">$</span>demo<span class="sc">$</span>SD[<span class="st">"D$GENDER.2"</span>]</span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>hdl_g1 <span class="ot">&lt;-</span> hdl_by_gender<span class="sc">$</span>demo<span class="sc">$</span>Mean[<span class="st">"D$GENDER.1"</span>]</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a>hdl_g2 <span class="ot">&lt;-</span> hdl_by_gender<span class="sc">$</span>demo<span class="sc">$</span>Mean[<span class="st">"D$GENDER.2"</span>]</span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a>hdl_sd_g1 <span class="ot">&lt;-</span> hdl_sd_by_gender<span class="sc">$</span>demo<span class="sc">$</span>SD[<span class="st">"D$GENDER.1"</span>]</span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a>hdl_sd_g2 <span class="ot">&lt;-</span> hdl_sd_by_gender<span class="sc">$</span>demo<span class="sc">$</span>SD[<span class="st">"D$GENDER.2"</span>]</span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Diabetes counts</span></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>diab_counts <span class="ot">&lt;-</span> <span class="fu">ds.table</span>(<span class="st">"D$DIS_DIAB"</span>)<span class="sc">$</span>output.list<span class="sc">$</span>TABLES.COMBINED_all.sources_counts</span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>diab_n <span class="ot">&lt;-</span> diab_counts[<span class="st">"1"</span>]</span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a>diab_pct <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="dv">100</span> <span class="sc">*</span> diab_n <span class="sc">/</span> n_total_val, <span class="dv">1</span>)</span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Build formatted output</span></span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"======================================================================</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"TABLE 1: Baseline Characteristics of CNSIM Study Participants</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"======================================================================</span><span class="sc">\n\n</span><span class="st">"</span>)</span>
<span id="cb36-39"><a href="#cb36-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-40"><a href="#cb36-40" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"%-28s %14s %14s %14s</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"Characteristic"</span>, <span class="st">"Overall"</span>, <span class="st">"Gender=0"</span>, <span class="st">"Gender=1"</span>))</span>
<span id="cb36-41"><a href="#cb36-41" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"----------------------------------------------------------------------</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb36-42"><a href="#cb36-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-43"><a href="#cb36-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample size</span></span>
<span id="cb36-44"><a href="#cb36-44" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"%-28s %14d %14d %14d</span><span class="sc">\n\n</span><span class="st">"</span>, <span class="st">"N"</span>, n_total_val, gender_counts[<span class="st">"0"</span>], gender_counts[<span class="st">"1"</span>]))</span>
<span id="cb36-45"><a href="#cb36-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-46"><a href="#cb36-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Continuous variables</span></span>
<span id="cb36-47"><a href="#cb36-47" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"%-28s %11.1f (%.1f) %11.1f (%.1f) %11.1f (%.1f)</span><span class="sc">\n</span><span class="st">"</span>, </span>
<span id="cb36-48"><a href="#cb36-48" aria-hidden="true" tabindex="-1"></a>    <span class="st">"BMI, mean (SD)"</span>, </span>
<span id="cb36-49"><a href="#cb36-49" aria-hidden="true" tabindex="-1"></a>    bmi_mean, bmi_sd, bmi_g1, bmi_sd_g1, bmi_g2, bmi_sd_g2))</span>
<span id="cb36-50"><a href="#cb36-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-51"><a href="#cb36-51" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"%-28s %11.2f (%.2f) %11.2f (%.2f) %11.2f (%.2f)</span><span class="sc">\n</span><span class="st">"</span>, </span>
<span id="cb36-52"><a href="#cb36-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Total Cholesterol"</span>, tsc_mean, tsc_sd, tsc_g1, tsc_sd_g1, tsc_g2, tsc_sd_g2))</span>
<span id="cb36-53"><a href="#cb36-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-54"><a href="#cb36-54" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"%-28s %11.2f (%.2f) %11.2f (%.2f) %11.2f (%.2f)</span><span class="sc">\n</span><span class="st">"</span>, </span>
<span id="cb36-55"><a href="#cb36-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">"HDL Cholesterol"</span>, hdl_mean, hdl_sd, hdl_g1, hdl_sd_g1, hdl_g2, hdl_sd_g2))</span>
<span id="cb36-56"><a href="#cb36-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-57"><a href="#cb36-57" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"%-28s %11.2f (%.2f)</span><span class="sc">\n\n</span><span class="st">"</span>, </span>
<span id="cb36-58"><a href="#cb36-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Triglycerides"</span>, trig_mean, trig_sd))</span>
<span id="cb36-59"><a href="#cb36-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-60"><a href="#cb36-60" aria-hidden="true" tabindex="-1"></a><span class="co"># Categorical variables</span></span>
<span id="cb36-61"><a href="#cb36-61" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">sprintf</span>(<span class="st">"%-28s %11d (%.1f%%)</span><span class="sc">\n</span><span class="st">"</span>, <span class="st">"Diabetes, n (%)"</span>, diab_n, diab_pct))</span>
<span id="cb36-62"><a href="#cb36-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-63"><a href="#cb36-63" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">----------------------------------------------------------------------</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb36-64"><a href="#cb36-64" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Values are mean (SD) for continuous variables, n (%) for categorical.</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Data in all studies were valid 

Study 1 :  No errors reported from this study


 Data in all studies were valid 

Study 1 :  No errors reported from this study

======================================================================
TABLE 1: Baseline Characteristics of CNSIM Study Participants
======================================================================

Characteristic                      Overall       Gender=0       Gender=1
----------------------------------------------------------------------
N                                      2163           1092           1071

BMI, mean (SD)                      27.4 (5.0)        28.1 (5.1)        26.7 (4.8)
Total Cholesterol                   5.87 (1.11)        5.92 (1.16)        5.83 (1.05)
HDL Cholesterol                     1.57 (0.41)        1.52 (0.43)        1.62 (0.38)
Triglycerides                       2.10 (1.58)

Diabetes, n (%)                       30 (1.4%)

----------------------------------------------------------------------
Values are mean (SD) for continuous variables, n (%) for categorical.</code></pre>
</div>
</div>
</section>
<section id="next-steps" class="level2">
<h2 class="anchored" data-anchor-id="next-steps">Next Steps</h2>
<p>Now that you can describe your data, proceed to <a href="./7-glm-models.html">GLM Models</a> to learn about statistical modelling.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./5-derived-variables.html" class="pagination-link" aria-label="Derived Variables &amp; Grouped Summaries">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">Derived Variables &amp; Grouped Summaries</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./7-glm-models.html" class="pagination-link" aria-label="Generalized Linear Models">
        <span class="nav-page-text"><span class="chapter-title">Generalized Linear Models</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/propass/propass-training/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>